Bengine.extensibles.image=new function(){this.type="image",this.name="image",this.category="media",this.upload=!0,this.accept=".bmp,.bmp2,.bmp3,.jpeg,.jpg,.pdf,.png,.svg";var t=this,e={files:{}};this.destroy=function(){},this.fetchDependencies=function(){return null},this.insertContent=function(e,n){var i=document.createElement("img");return i.setAttribute("class","xImg"),i.setAttribute("data-url",null),i.setAttribute("data-iid",t.p.createUUID()),n.content&&(i.src=n.content),e.appendChild(i),e},this.afterDOMinsert=function(t,n,i){var r=document.getElementById(t).childNodes[0];if(i){var s=r.getAttribute("data-iid");e.files[s]=i,r.src=URL.createObjectURL(i)}else if(null!==n){var a=new XMLHttpRequest;a.open("GET",n),a.responseType="arraybuffer",a.onload=function(t){var i=r.getAttribute("data-iid"),s=n.split("/");e.files[i]=new File([t.target.response],s[s.length-1],{type:"image/png"}),r.src=URL.createObjectURL(new Blob([t.target.response],{type:"image/png"}))},a.send(),r.setAttribute("data-url",n)}},this.runBlock=null,this.runData=null,this.saveContent=function(t){return{content:document.getElementById(t).children[0].getAttribute("data-url").replace(location.href.substring(0,location.href.lastIndexOf("/")+1),"")}},this.saveFile=function(t){var n=document.getElementById(t).children[0].getAttribute("data-iid");return e.files[n]},this.showContent=function(t,e){var n=document.createElement("img");return n.setAttribute("class","xImg-show"),n.src=bcontent.content,t.appendChild(n),t},this.styleBlock=function(){return".xImg, .xImg-show {\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tborder: 1px solid black;\n\t\t\tborder-radius: 2px;\n\n\t\t\tpadding: 0px;\n\t\t\tmargin: 0px;\n\t\t\tbox-sizing: border-box;\n\t\t}"}};